# Описание
## Условие
Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.
Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлулогу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.
Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.
Форматом для файла-лога и файла-результата является json.
Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.
## Загрузка константы 
![image](https://github.com/user-attachments/assets/7237cf2c-e775-4a89-ba7f-12e5fc142c85)

Размер команды: 3 байт. Операнд: поле C. Результат: регистр по адресу,
которым является поле B.
```
Тест (A=5, B=0, C=765):
0x45, 0xBF, 0x00
```
## Чтение значения из памяти
![image](https://github.com/user-attachments/assets/0d00f9a7-9506-44f1-948d-0a91019522be)

Размер команды: 2 байт. Операнд: значение в памяти по адресу, которым
является регистр по адресу, которым является поле C. Результат: регистр по
адресу, которым является поле B.
```
Тест (A=4, B=2, C=3):
0xD4, 0x00
```
## Запись значения в память
![image](https://github.com/user-attachments/assets/4a906d45-6e6e-4dab-b0ee-eed919d8e2d2)

Размер команды: 2 байт. Операнд: регистр по адресу, которым является поле
B. Результат: значение в памяти по адресу, которым является регистр по адресу,
которым является поле C.
```
Тест (A=2, B=5, C=2):
0xAA, 0x00
```
## Бинарная операция: взятие остатка
![image](https://github.com/user-attachments/assets/c9bcfcd1-c172-4659-acf7-f09207fa59ce)

Размер команды: 2 байт. Первый операнд: регистр по адресу, которым
является поле B. Второй операнд: значение в памяти по адресу, которым является
регистр по адресу, которым является поле C. Результат: регистр по адресу,
которым является поле B.
```
Тест (A=0, B=7, C=6):
0xB8, 0x01
```
## Тестовая программа
Выполнить поэлементно операцию взятие остатка над вектором длины 5 и
числом 78. Результат записать в новый вектор.
# Реализация языка
## Загрузка константы
### Синтаксис:
```
LOAD_CONST <адрес> <значение>
```
### Описание: 
Команда загружает константное значение в регистр по указанному адресу
## Чтение значения из памяти
### Синтаксис
```
LOAD_MEM <адрес1> <адрес2>
```
### Описание:
Команда читает из указанной ячейки памяти (адрес2) и загружает в регистр (адрес1)
## Запись значения в память
### Синтаксис
```
STORE_MEM <адрес1> <адрес2>
```
### Описание:
Команда читает из указанного регистра (адрес1) и загружает в ячейку памяти (адрес2)
## Бинарная операция: взятие остатка
### Синтаксис
```
MOD <адрес1> <адрес2>
```
### Описание:
Команда читает из регистра (адрес1) и ячейки памяти (адрес2), выполнение операции остатка, и запись в регистр (адрес1)
# Установка и запуск
Для начала, убедитесь, что у вас установлен Python. Затем выполните следующие шаги:
  1.Установка программы и переход в директорию
  ```
  git clone <URL репозитория>
  cd <директория проекта>
  ```
  2.Создайте и активируйте виртуальное окружение:
  ```
  python3 -m venv venv
  source venv/bin/activate  # Для Linux/Mac
  venv\Scripts\activate     # Для Windows
  ```
  3.Установите необходимые зависимости (pytest для тестов):
  ```
  pip install pytest
  ```
  4.Запуск асссемблера
  ```
  python assembler.py <source_file> <bin_file> <log_file>
  ```
  где:
  - source_file - файл с текстом исходной команды
  - bin_file - бинарный файл (результат работы ассемблера)
  - log_file - файл-лог

  5.Запуск интерпретатора:
  ```
  python interpreter.py <bin_file> <result_file> <memory_range>
  ```
  где:
  - bin_file - бинарный файл
  - result_file - файл со значениями из диапазона памяти УВМ
  - memory_range - диапазон памяти
# Пример работы:
## Файл с текстом исходной команды:
```
LOAD_CONST 0 78
LOAD_CONST 1 100
LOAD_CONST 2 150
LOAD_CONST 3 175
LOAD_CONST 4 215
LOAD_CONST 5 241
STORE_MEM 0 0
MOD 1 0
MOD 2 0
MOD 3 0
MOD 4 0
MOD 5 0
```
## Файл-лог для ассемблированных инструкций:
```
[
    {
        "instruction": "LOAD_CONST 0 78",
        "bytes": [
            "85",
            "13",
            "00"
        ]
    },
    {
        "instruction": "LOAD_CONST 1 100",
        "bytes": [
            "0d",
            "19",
            "00"
        ]
    },
    {
        "instruction": "LOAD_CONST 2 150",
        "bytes": [
            "95",
            "25",
            "00"
        ]
    },
    {
        "instruction": "LOAD_CONST 3 175",
        "bytes": [
            "dd",
            "2b",
            "00"
        ]
    },
    {
        "instruction": "LOAD_CONST 4 215",
        "bytes": [
            "e5",
            "35",
            "00"
        ]
    },
    {
        "instruction": "LOAD_CONST 5 241",
        "bytes": [
            "6d",
            "3c",
            "00"
        ]
    },
    {
        "instruction": "STORE_MEM 0 0",
        "bytes": [
            "02",
            "00"
        ]
    },
    {
        "instruction": "MOD 1 0",
        "bytes": [
            "08",
            "00"
        ]
    },
    {
        "instruction": "MOD 2 0",
        "bytes": [
            "10",
            "00"
        ]
    },
    {
        "instruction": "MOD 3 0",
        "bytes": [
            "18",
            "00"
        ]
    },
    {
        "instruction": "MOD 4 0",
        "bytes": [
            "20",
            "00"
        ]
    },
    {
        "instruction": "MOD 5 0",
        "bytes": [
            "28",
            "00"
        ]
    }
]
```
## Файл-результат:
```
[
    [
        "LOAD_CONST: R0 <- 78"
    ],
    [
        "LOAD_CONST: R1 <- 100"
    ],
    [
        "LOAD_CONST: R2 <- 150"
    ],
    [
        "LOAD_CONST: R3 <- 175"
    ],
    [
        "LOAD_CONST: R4 <- 215"
    ],
    [
        "LOAD_CONST: R5 <- 241"
    ],
    [
        "STORE_MEM: M0 <- R0 (78)"
    ],
    [
        "MOD: R1 <- 100 % 78 = 22"
    ],
    [
        "MOD: R2 <- 150 % 78 = 72"
    ],
    [
        "MOD: R3 <- 175 % 78 = 19"
    ],
    [
        "MOD: R4 <- 215 % 78 = 59"
    ],
    [
        "MOD: R5 <- 241 % 78 = 7"
    ]
]
```
